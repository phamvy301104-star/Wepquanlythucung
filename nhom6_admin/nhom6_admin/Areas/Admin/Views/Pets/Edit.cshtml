@model nhom6_admin.Models.Entities.Pet
@{
    ViewData["Title"] = $"S·ª≠a: {Model.Name}";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid py-4">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white py-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">‚úèÔ∏è S·ª≠a th√¥ng tin: @Model.Name</h5>
                        <a href="@Url.Action("Index")" class="btn btn-outline-secondary btn-sm">
                            <i class="bi bi-arrow-left me-1"></i>Quay l·∫°i
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <form asp-action="Edit" method="post" enctype="multipart/form-data">
                        <input type="hidden" asp-for="Id" />
                        <input type="hidden" asp-for="PetCode" />
                        <input type="hidden" asp-for="CreatedAt" />
                        <input type="hidden" asp-for="ImageUrl" />
                        
                        <div class="row g-4">
                            <!-- Current Image -->
                            @if (!string.IsNullOrEmpty(Model.ImageUrl))
                            {
                                <div class="col-12">
                                    <label class="form-label">H√¨nh ·∫£nh hi·ªán t·∫°i</label>
                                    <div>
                                        <img src="@Model.ImageUrl" class="img-thumbnail" style="max-height: 150px;">
                                    </div>
                                </div>
                            }
                            
                            <!-- Basic Info -->
                            <div class="col-12">
                                <h6 class="text-primary mb-3"><i class="bi bi-info-circle me-2"></i>Th√¥ng tin c∆° b·∫£n</h6>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">M√£ th√∫ c∆∞ng</label>
                                <input value="@Model.PetCode" class="form-control" readonly disabled>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">T√™n th√∫ c∆∞ng <span class="text-danger">*</span></label>
                                <input asp-for="Name" class="form-control">
                                <span asp-validation-for="Name" class="text-danger"></span>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Lo·∫°i th√∫ c∆∞ng <span class="text-danger">*</span></label>
                                <select asp-for="Species" class="form-select">
                                    <option value="">-- Ch·ªçn lo·∫°i --</option>
                                    <option value="Ch√≥">üêï Ch√≥</option>
                                    <option value="M√®o">üê± M√®o</option>
                                    <option value="Hamster">üêπ Hamster</option>
                                    <option value="Th·ªè">üê∞ Th·ªè</option>
                                    <option value="Chim">üê¶ Chim</option>
                                    <option value="Kh√°c">üêæ Kh√°c</option>
                                </select>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Gi·ªëng</label>
                                <input asp-for="Breed" class="form-control">
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Gi·ªõi t√≠nh</label>
                                <select asp-for="Gender" class="form-select">
                                    <option value="">-- Ch·ªçn --</option>
                                    <option value="ƒê·ª±c">ƒê·ª±c</option>
                                    <option value="C√°i">C√°i</option>
                                    <option value="Kh√¥ng r√µ">Kh√¥ng r√µ</option>
                                </select>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Tu·ªïi (th√°ng)</label>
                                <input asp-for="AgeInMonths" type="number" class="form-control" min="0">
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">M√†u l√¥ng</label>
                                <input asp-for="Color" class="form-control">
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">C√¢n n·∫∑ng (kg)</label>
                                <input asp-for="Weight" type="number" step="0.1" class="form-control" min="0">
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Ngu·ªìn g·ªëc</label>
                                <input asp-for="Origin" class="form-control">
                            </div>

                            <!-- Health Info -->
                            <div class="col-12 mt-4">
                                <h6 class="text-primary mb-3"><i class="bi bi-heart-pulse me-2"></i>Th√¥ng tin s·ª©c kh·ªèe</h6>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="form-check form-switch">
                                    <input asp-for="IsVaccinated" class="form-check-input" type="checkbox">
                                    <label asp-for="IsVaccinated" class="form-check-label">ƒê√£ ti√™m vaccine</label>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="form-check form-switch">
                                    <input asp-for="IsNeutered" class="form-check-input" type="checkbox">
                                    <label asp-for="IsNeutered" class="form-check-label">ƒê√£ tri·ªát s·∫£n</label>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="form-check form-switch">
                                    <input asp-for="HasMicrochip" class="form-check-input" type="checkbox">
                                    <label asp-for="HasMicrochip" class="form-check-label">C√≥ microchip</label>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <label class="form-label">Chi ti·∫øt vaccine</label>
                                <input asp-for="VaccinationDetails" class="form-control">
                            </div>
                            
                            <div class="col-md-6">
                                <label class="form-label">S·ªë microchip</label>
                                <input asp-for="MicrochipNumber" class="form-control">
                            </div>
                            
                            <div class="col-12">
                                <label class="form-label">T√¨nh tr·∫°ng s·ª©c kh·ªèe</label>
                                <textarea asp-for="HealthStatus" class="form-control" rows="2"></textarea>
                            </div>

                            <!-- Price Info -->
                            <div class="col-12 mt-4">
                                <h6 class="text-primary mb-3"><i class="bi bi-currency-dollar me-2"></i>Gi√° b√°n</h6>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Gi√° b√°n <span class="text-danger">*</span></label>
                                <div class="input-group">
                                    <input asp-for="Price" type="number" class="form-control" min="0">
                                    <span class="input-group-text">ƒë</span>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Gi√° g·ªëc</label>
                                <div class="input-group">
                                    <input asp-for="OriginalPrice" type="number" class="form-control" min="0">
                                    <span class="input-group-text">ƒë</span>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">Tr·∫°ng th√°i</label>
                                <select asp-for="Status" class="form-select">
                                    <option value="Available">ƒêang b√°n</option>
                                    <option value="Reserved">ƒê√£ ƒë·∫∑t</option>
                                    <option value="Sold">ƒê√£ b√°n</option>
                                    <option value="NotForSale">Kh√¥ng b√°n</option>
                                </select>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="form-check form-switch">
                                    <input asp-for="IsForSale" class="form-check-input" type="checkbox">
                                    <label asp-for="IsForSale" class="form-check-label">ƒêang b√°n</label>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="form-check form-switch">
                                    <input asp-for="IsFeatured" class="form-check-input" type="checkbox">
                                    <label asp-for="IsFeatured" class="form-check-label">Hi·ªÉn th·ªã n·ªïi b·∫≠t</label>
                                </div>
                            </div>

                            <!-- Image & Description -->
                            <div class="col-12 mt-4">
                                <h6 class="text-primary mb-3"><i class="bi bi-image me-2"></i>H√¨nh ·∫£nh & M√¥ t·∫£</h6>
                            </div>
                            
                            <div class="col-md-6">
                                <label class="form-label">Thay ƒë·ªïi h√¨nh ·∫£nh</label>
                                <input type="file" name="imageFile" class="form-control" accept="image/*" onchange="previewImage(this)">
                                <div id="imagePreview" class="mt-2"></div>
                            </div>
                            
                            <div class="col-md-6">
                                <label class="form-label">Video URL</label>
                                <input asp-for="VideoUrl" class="form-control">
                            </div>
                            
                            <div class="col-12">
                                <label class="form-label">M√¥ t·∫£</label>
                                <textarea asp-for="Description" class="form-control" rows="4"></textarea>
                            </div>
                            
                            <div class="col-12">
                                <label class="form-label">Ghi ch√∫</label>
                                <textarea asp-for="Notes" class="form-control" rows="2"></textarea>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-end gap-2 mt-4 pt-3 border-top">
                            <a href="@Url.Action("Index")" class="btn btn-outline-secondary">H·ªßy</a>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-check-circle me-1"></i>C·∫≠p nh·∫≠t
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
<script>
    function previewImage(input) {
        const preview = document.getElementById('imagePreview');
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                preview.innerHTML = `<img src="${e.target.result}" class="img-thumbnail" style="max-height: 150px;">`;
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
}
